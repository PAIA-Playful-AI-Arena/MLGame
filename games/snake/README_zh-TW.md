# 貪食蛇

## 概觀

![Imgur](https://i.imgur.com/aVDPwWP.gif)

控制蛇的移動，讓牠吃到食物。每吃到一個食物，蛇身就會增長一段。盡可能地吃到最多食物。

## 執行

* 手動模式：`python MLGame.py -m snake`
    * 控制蛇的方向：方向鍵
    * 蛇一個影格移動一步，可以加入 `-f <FPS>` 來降低蛇的移動速度
* 機器學習模式：`python MLGame.py -i ml_play_template.py snake`

## 詳細遊戲資訊

### 座標系統

與打磚塊遊戲一樣

### 遊戲區域

300 \* 300 像素

### 遊戲物件

#### 蛇

* 蛇由一系列正方形構成。每一個正方形的大小是 10 \* 10 像素
* 蛇頭顏色是綠色的，而蛇身皆為白色
* 蛇頭初始位置在 (40, 40)，而蛇身依序在 (40, 30)、(40, 20)、(40, 10)
* 蛇初始移動方向是向下，每一個影格移動 10 個像素
* 當蛇吃到食物時，蛇身會增長一個

#### 食物

* 食物是 10 \* 10 像素大小的正方形，但是其樣貌為紅色圓形
* 食物的位置隨機決定，xy 座標範圍皆為 0 ~ 290，以 10 為一單位決定

## 撰寫玩遊戲的程式

範例程式在 [`ml/ml_play_template.py`](ml/ml_play_template.py)。

### 溝通物件

#### 場景資訊

從遊戲端接受的字典物件，也是用來儲存在紀錄檔中的物件。

```
{
    'frame': 12,
    'status': 'GAME_ALIVE',
    'snake_head': (160, 40),
    'snake_body': [(150, 40), (140, 40), (130, 40)],
    'food': (100, 60)
}
```

以下是物件的鍵值對應：

* `"frame"`：整數。標記紀錄的是第幾影格的場景資訊。
* `"status"`：字串。目前的遊戲狀態，會是以下值其中之一：
    * `"GAME_ALIVE"`：蛇還活著
    * `"GAME_OVER"`：蛇撞到牆或是撞到自己
* `"snake_head"`：`(x, y)` tuple。蛇頭的位置。
* `"snake_body"`：為一個列表物件儲存所有蛇身的位置，從蛇頭後一個蛇身依序紀錄到蛇尾，裡面每一個元素都是 `(x, y)` tuple。
* `"food"`：`(x, y)` tuple。食物的位置。

#### 遊戲指令

傳送給遊戲端的字串，控制蛇的移動方向。

```
'RIGHT'
```

以下是可用的指令：

* `"UP"`：蛇頭向上
* `"DOWN"`：蛇頭向下
* `"LEFT"`：蛇頭向左
* `"RIGHT"`：蛇頭向右
* `"NONE"`：保持前進方向

### 紀錄檔

在紀錄檔中，機器學習端的名字為 `"ml"`。
